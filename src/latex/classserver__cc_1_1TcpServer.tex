\hypertarget{classserver__cc_1_1TcpServer}{}\doxysection{server\+\_\+cc\+::Tcp\+Server Class Reference}
\label{classserver__cc_1_1TcpServer}\index{server\_cc::TcpServer@{server\_cc::TcpServer}}


Inheritance diagram for server\+\_\+cc\+::Tcp\+Server\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classserver__cc_1_1TcpServer__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for server\+\_\+cc\+::Tcp\+Server\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classserver__cc_1_1TcpServer__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classserver__cc_1_1TcpServer_acc029c36cf7fa65a55e684458724f4bd}\label{classserver__cc_1_1TcpServer_acc029c36cf7fa65a55e684458724f4bd}} 
typedef std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classserver__cc_1_1TcpServer}{Tcp\+Server}} $>$ {\bfseries ptr}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classserver__cc_1_1TcpServer_a4f02d92de30d4e850721dff52d17d9f0}{Tcp\+Server}} (\mbox{\hyperlink{classserver__cc_1_1IOManager}{server\+\_\+cc\+::\+I\+O\+Manager}} $\ast$worker=server\+\_\+cc\+::\+I\+O\+Manager\+::\+Get\+This(), \mbox{\hyperlink{classserver__cc_1_1IOManager}{server\+\_\+cc\+::\+I\+O\+Manager}} $\ast$acceptor=server\+\_\+cc\+::\+I\+O\+Manager\+::\+Get\+This(), \mbox{\hyperlink{classserver__cc_1_1IOManager}{server\+\_\+cc\+::\+I\+O\+Manager}} $\ast$io\+\_\+woker=server\+\_\+cc\+::\+I\+O\+Manager\+::\+Get\+This())
\item 
virtual bool \mbox{\hyperlink{classserver__cc_1_1TcpServer_a0f7b93723bb55fb58c1f1886fef8db82}{bind}} (server\+\_\+cc\+::\+Address\+::ptr addr, bool ssl=false)
\item 
\mbox{\Hypertarget{classserver__cc_1_1TcpServer_a21b43149fdb71ee5d7aa7cb338aa5af3}\label{classserver__cc_1_1TcpServer_a21b43149fdb71ee5d7aa7cb338aa5af3}} 
virtual bool {\bfseries bind} (const std\+::vector$<$ server\+\_\+cc\+::\+Address\+::ptr $>$ \&addrs, std\+::vector$<$ Address\+::ptr $>$ \&fails, bool ssl=false)
\item 
virtual bool \mbox{\hyperlink{classserver__cc_1_1TcpServer_a02208568d154b96f5d642c015bc80d40}{start}} ()
\item 
\mbox{\Hypertarget{classserver__cc_1_1TcpServer_a9c0031cea4d8a2341b01ad2004a1892b}\label{classserver__cc_1_1TcpServer_a9c0031cea4d8a2341b01ad2004a1892b}} 
virtual void {\bfseries stop} ()
\item 
\mbox{\Hypertarget{classserver__cc_1_1TcpServer_ab65da3f22ed14db8ee091d27da4db6ea}\label{classserver__cc_1_1TcpServer_ab65da3f22ed14db8ee091d27da4db6ea}} 
uint64\+\_\+t {\bfseries get\+Recv\+Timeout} () const
\item 
\mbox{\Hypertarget{classserver__cc_1_1TcpServer_a6ec2979d2d9b60c99e0e6bdea16ca628}\label{classserver__cc_1_1TcpServer_a6ec2979d2d9b60c99e0e6bdea16ca628}} 
std\+::string \mbox{\hyperlink{classserver__cc_1_1TcpServer_a6ec2979d2d9b60c99e0e6bdea16ca628}{get\+Name}} () const
\begin{DoxyCompactList}\small\item\em 返回服务器名称 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver__cc_1_1TcpServer_ab918a47930d7f799d8f307e4f2273653}\label{classserver__cc_1_1TcpServer_ab918a47930d7f799d8f307e4f2273653}} 
void \mbox{\hyperlink{classserver__cc_1_1TcpServer_ab918a47930d7f799d8f307e4f2273653}{set\+Recv\+Timeout}} (uint64\+\_\+t v)
\begin{DoxyCompactList}\small\item\em 设置读取超时时间(毫秒) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver__cc_1_1TcpServer_a79a52128b44d4a9df56c96f3c3a4434d}\label{classserver__cc_1_1TcpServer_a79a52128b44d4a9df56c96f3c3a4434d}} 
virtual void {\bfseries set\+Name} (const std\+::string \&v)
\item 
\mbox{\Hypertarget{classserver__cc_1_1TcpServer_adc4a9c4fb5ee36da6dbfe0fbf3dc5500}\label{classserver__cc_1_1TcpServer_adc4a9c4fb5ee36da6dbfe0fbf3dc5500}} 
bool {\bfseries is\+Stop} () const
\item 
\mbox{\Hypertarget{classserver__cc_1_1TcpServer_a501de5112dcc2485c91ec6b006a3283a}\label{classserver__cc_1_1TcpServer_a501de5112dcc2485c91ec6b006a3283a}} 
virtual std\+::string {\bfseries to\+String} (const std\+::string \&prefix=\char`\"{}\char`\"{})
\item 
\mbox{\Hypertarget{classserver__cc_1_1TcpServer_aceeb1ad7b59fb8b44acb4586c8642217}\label{classserver__cc_1_1TcpServer_aceeb1ad7b59fb8b44acb4586c8642217}} 
std\+::vector$<$ Socket\+::ptr $>$ {\bfseries get\+Socks} () const
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classserver__cc_1_1TcpServer_a5d739d94e81be07af1680ae40ff6ea69}\label{classserver__cc_1_1TcpServer_a5d739d94e81be07af1680ae40ff6ea69}} 
virtual void {\bfseries handle\+Client} (Socket\+::ptr client)
\item 
virtual void \mbox{\hyperlink{classserver__cc_1_1TcpServer_a5c3179a9a7cd6bb948b988d3278d5d34}{start\+Accept}} (Socket\+::ptr sock)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classserver__cc_1_1TcpServer_abc85682f000fbc42f188e1ed38e81e7e}\label{classserver__cc_1_1TcpServer_abc85682f000fbc42f188e1ed38e81e7e}} 
std\+::vector$<$ Socket\+::ptr $>$ {\bfseries m\+\_\+socks}
\item 
\mbox{\Hypertarget{classserver__cc_1_1TcpServer_a00ddf36eb257a329dd5ad577f101716f}\label{classserver__cc_1_1TcpServer_a00ddf36eb257a329dd5ad577f101716f}} 
\mbox{\hyperlink{classserver__cc_1_1IOManager}{I\+O\+Manager}} $\ast$ \mbox{\hyperlink{classserver__cc_1_1TcpServer_a00ddf36eb257a329dd5ad577f101716f}{m\+\_\+worker}}
\begin{DoxyCompactList}\small\item\em 新连接的\+Socket工作的调度器 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver__cc_1_1TcpServer_ab383ce9deb5daff857234cd194ac9b07}\label{classserver__cc_1_1TcpServer_ab383ce9deb5daff857234cd194ac9b07}} 
\mbox{\hyperlink{classserver__cc_1_1IOManager}{I\+O\+Manager}} $\ast$ {\bfseries m\+\_\+io\+Worker}
\item 
\mbox{\Hypertarget{classserver__cc_1_1TcpServer_a43129e7015369be4bbe5e2cf6b453287}\label{classserver__cc_1_1TcpServer_a43129e7015369be4bbe5e2cf6b453287}} 
\mbox{\hyperlink{classserver__cc_1_1IOManager}{I\+O\+Manager}} $\ast$ \mbox{\hyperlink{classserver__cc_1_1TcpServer_a43129e7015369be4bbe5e2cf6b453287}{m\+\_\+accept\+Worker}}
\begin{DoxyCompactList}\small\item\em 服务器\+Socket接收连接的调度器 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver__cc_1_1TcpServer_ab4dea8c6280880cd3a7d8890a85c839e}\label{classserver__cc_1_1TcpServer_ab4dea8c6280880cd3a7d8890a85c839e}} 
uint64\+\_\+t {\bfseries m\+\_\+recv\+Timeout}
\item 
\mbox{\Hypertarget{classserver__cc_1_1TcpServer_a3b205a18c527d40b3f70e2e5c0554ab5}\label{classserver__cc_1_1TcpServer_a3b205a18c527d40b3f70e2e5c0554ab5}} 
std\+::string \mbox{\hyperlink{classserver__cc_1_1TcpServer_a3b205a18c527d40b3f70e2e5c0554ab5}{m\+\_\+name}}
\begin{DoxyCompactList}\small\item\em 服务器名称 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver__cc_1_1TcpServer_a4d29dd12b19f89d5326a4c95678fb579}\label{classserver__cc_1_1TcpServer_a4d29dd12b19f89d5326a4c95678fb579}} 
std\+::string \mbox{\hyperlink{classserver__cc_1_1TcpServer_a4d29dd12b19f89d5326a4c95678fb579}{m\+\_\+type}} = \char`\"{}tcp\char`\"{}
\begin{DoxyCompactList}\small\item\em 服务器类型 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver__cc_1_1TcpServer_a8138f3a95124741ac8201d39803f1523}\label{classserver__cc_1_1TcpServer_a8138f3a95124741ac8201d39803f1523}} 
bool \mbox{\hyperlink{classserver__cc_1_1TcpServer_a8138f3a95124741ac8201d39803f1523}{m\+\_\+is\+Stop}}
\begin{DoxyCompactList}\small\item\em 服务是否停止 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver__cc_1_1TcpServer_a366be5aa4b520a25623181b6f30cd765}\label{classserver__cc_1_1TcpServer_a366be5aa4b520a25623181b6f30cd765}} 
bool {\bfseries m\+\_\+ssl} = false
\end{DoxyCompactItemize}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classserver__cc_1_1TcpServer_a4f02d92de30d4e850721dff52d17d9f0}\label{classserver__cc_1_1TcpServer_a4f02d92de30d4e850721dff52d17d9f0}} 
\index{server\_cc::TcpServer@{server\_cc::TcpServer}!TcpServer@{TcpServer}}
\index{TcpServer@{TcpServer}!server\_cc::TcpServer@{server\_cc::TcpServer}}
\doxysubsubsection{\texorpdfstring{TcpServer()}{TcpServer()}}
{\footnotesize\ttfamily server\+\_\+cc\+::\+Tcp\+Server\+::\+Tcp\+Server (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classserver__cc_1_1IOManager}{server\+\_\+cc\+::\+I\+O\+Manager}} $\ast$}]{worker = {\ttfamily server\+\_\+cc\+:\+:IOManager\+:\+:GetThis()},  }\item[{\mbox{\hyperlink{classserver__cc_1_1IOManager}{server\+\_\+cc\+::\+I\+O\+Manager}} $\ast$}]{acceptor = {\ttfamily server\+\_\+cc\+:\+:IOManager\+:\+:GetThis()},  }\item[{\mbox{\hyperlink{classserver__cc_1_1IOManager}{server\+\_\+cc\+::\+I\+O\+Manager}} $\ast$}]{io\+\_\+woker = {\ttfamily server\+\_\+cc\+:\+:IOManager\+:\+:GetThis()} }\end{DoxyParamCaption})}

@description\+: 构造函数 
\begin{DoxyParams}{Parameters}
{\em \{\+I\+O\+Manager$\ast$\}} & worker 用于处理新连接的调度器 \\
\hline
{\em \{\+I\+O\+Manager$\ast$\}} & io\+\_\+worker 用于处理读写事件的调度器 \\
\hline
{\em \{\+I\+O\+Manager$\ast$\}} & accept\+\_\+worker 用于处理接收连接的调度器 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\{$\ast$\} 
\end{DoxyReturn}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classserver__cc_1_1TcpServer_a0f7b93723bb55fb58c1f1886fef8db82}\label{classserver__cc_1_1TcpServer_a0f7b93723bb55fb58c1f1886fef8db82}} 
\index{server\_cc::TcpServer@{server\_cc::TcpServer}!bind@{bind}}
\index{bind@{bind}!server\_cc::TcpServer@{server\_cc::TcpServer}}
\doxysubsubsection{\texorpdfstring{bind()}{bind()}}
{\footnotesize\ttfamily bool server\+\_\+cc\+::\+Tcp\+Server\+::bind (\begin{DoxyParamCaption}\item[{server\+\_\+cc\+::\+Address\+::ptr}]{addr,  }\item[{bool}]{ssl = {\ttfamily false} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

@description\+: 绑定地址,//bind函数中包含了listen函数 
\begin{DoxyParams}{Parameters}
{\em \{ptr\}} & addr \\
\hline
{\em \{bool\}} & ssl \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\{$\ast$\} 
\end{DoxyReturn}
\mbox{\Hypertarget{classserver__cc_1_1TcpServer_a02208568d154b96f5d642c015bc80d40}\label{classserver__cc_1_1TcpServer_a02208568d154b96f5d642c015bc80d40}} 
\index{server\_cc::TcpServer@{server\_cc::TcpServer}!start@{start}}
\index{start@{start}!server\_cc::TcpServer@{server\_cc::TcpServer}}
\doxysubsubsection{\texorpdfstring{start()}{start()}}
{\footnotesize\ttfamily bool server\+\_\+cc\+::\+Tcp\+Server\+::start (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

@description\+: 启动服务，开始接收连接（在bind之后调用） \begin{DoxyReturn}{Returns}
\{$\ast$\} 
\end{DoxyReturn}
\mbox{\Hypertarget{classserver__cc_1_1TcpServer_a5c3179a9a7cd6bb948b988d3278d5d34}\label{classserver__cc_1_1TcpServer_a5c3179a9a7cd6bb948b988d3278d5d34}} 
\index{server\_cc::TcpServer@{server\_cc::TcpServer}!startAccept@{startAccept}}
\index{startAccept@{startAccept}!server\_cc::TcpServer@{server\_cc::TcpServer}}
\doxysubsubsection{\texorpdfstring{startAccept()}{startAccept()}}
{\footnotesize\ttfamily void server\+\_\+cc\+::\+Tcp\+Server\+::start\+Accept (\begin{DoxyParamCaption}\item[{Socket\+::ptr}]{sock }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

@description\+: 开始接收连接 
\begin{DoxyParams}{Parameters}
{\em \{ptr\}} & sock \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\{$\ast$\} 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
tcpserver.\+h\item 
tcpserver.\+cpp\end{DoxyCompactItemize}
