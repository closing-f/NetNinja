\hypertarget{classserver__cc_1_1Scheduler}{}\doxysection{server\+\_\+cc\+::Scheduler Class Reference}
\label{classserver__cc_1_1Scheduler}\index{server\_cc::Scheduler@{server\_cc::Scheduler}}


Inheritance diagram for server\+\_\+cc\+::Scheduler\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=202pt]{classserver__cc_1_1Scheduler__inherit__graph}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structserver__cc_1_1Scheduler_1_1FiberOrCb}{Fiber\+Or\+Cb}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classserver__cc_1_1Scheduler_aa7562d09fce13b3a0f5f28a8cbc5d76e}\label{classserver__cc_1_1Scheduler_aa7562d09fce13b3a0f5f28a8cbc5d76e}} 
typedef std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classserver__cc_1_1Scheduler}{Scheduler}} $>$ {\bfseries ptr}
\item 
\mbox{\Hypertarget{classserver__cc_1_1Scheduler_a73fdae75f95ecf7e3c85adeba186f819}\label{classserver__cc_1_1Scheduler_a73fdae75f95ecf7e3c85adeba186f819}} 
typedef \mbox{\hyperlink{classserver__cc_1_1Mutex}{Mutex}} {\bfseries Mutex\+Type}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classserver__cc_1_1Scheduler_a2c9d5ecef38ed19956b58f80d483c271}{Scheduler}} (size\+\_\+t thread\+\_\+num=1, bool use\+\_\+caller=true, const std\+::string \&name=\char`\"{}\char`\"{})
\item 
\mbox{\Hypertarget{classserver__cc_1_1Scheduler_a7f00371b129d2c784f8ed2efe506c1a6}\label{classserver__cc_1_1Scheduler_a7f00371b129d2c784f8ed2efe506c1a6}} 
const std\+::string \& {\bfseries get\+Name} () const
\item 
\mbox{\Hypertarget{classserver__cc_1_1Scheduler_ae313be30bb660b79ed18ae0e502e1d9f}\label{classserver__cc_1_1Scheduler_ae313be30bb660b79ed18ae0e502e1d9f}} 
{\footnotesize template$<$typename T $>$ }\\void {\bfseries schedule} (T fc, int thread=-\/1)
\item 
\mbox{\Hypertarget{classserver__cc_1_1Scheduler_ac2d955e51161aaeb4cfdc100f02f16af}\label{classserver__cc_1_1Scheduler_ac2d955e51161aaeb4cfdc100f02f16af}} 
{\footnotesize template$<$class Input\+Iterator $>$ }\\void {\bfseries schedule} (Input\+Iterator begin, Input\+Iterator end)
\item 
void \mbox{\hyperlink{classserver__cc_1_1Scheduler_a014a6ca8ba276b6834f2db497fb2f8d9}{start}} ()
\item 
void \mbox{\hyperlink{classserver__cc_1_1Scheduler_a39eb2b93bbdf05f8ab76faaff88f7a8a}{stop}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classserver__cc_1_1Scheduler_a5a6922a1864d013ede91cbff4b55c0c6}\label{classserver__cc_1_1Scheduler_a5a6922a1864d013ede91cbff4b55c0c6}} 
static \mbox{\hyperlink{classserver__cc_1_1Scheduler}{Scheduler}} $\ast$ {\bfseries Get\+This} ()
\item 
\mbox{\Hypertarget{classserver__cc_1_1Scheduler_acc736eaa768b7ff03f652735cbfb7866}\label{classserver__cc_1_1Scheduler_acc736eaa768b7ff03f652735cbfb7866}} 
static \mbox{\hyperlink{classserver__cc_1_1Fiber}{Fiber}} $\ast$ {\bfseries Get\+Main\+Fiber} ()
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classserver__cc_1_1Scheduler_aa32372bab664f74574563c35b43ef21b}\label{classserver__cc_1_1Scheduler_aa32372bab664f74574563c35b43ef21b}} 
void {\bfseries set\+This} ()
\item 
\mbox{\Hypertarget{classserver__cc_1_1Scheduler_a24f68ef190b555909be120eb9c70d6f3}\label{classserver__cc_1_1Scheduler_a24f68ef190b555909be120eb9c70d6f3}} 
virtual void {\bfseries run} ()
\item 
virtual bool \mbox{\hyperlink{classserver__cc_1_1Scheduler_a2c2ba1b975e9826cd012b37f202cda95}{stopping}} ()
\item 
virtual void \mbox{\hyperlink{classserver__cc_1_1Scheduler_ac44285e8a12d0e5d6b45cd7b3b92de98}{tickle}} ()
\item 
\mbox{\Hypertarget{classserver__cc_1_1Scheduler_a012a68b32b3bd5ed0973100893484564}\label{classserver__cc_1_1Scheduler_a012a68b32b3bd5ed0973100893484564}} 
bool {\bfseries has\+Idle\+Threads} ()
\item 
\mbox{\Hypertarget{classserver__cc_1_1Scheduler_aa5f02a41bf2ea3f42cb96b38fcf9448d}\label{classserver__cc_1_1Scheduler_aa5f02a41bf2ea3f42cb96b38fcf9448d}} 
virtual void \mbox{\hyperlink{classserver__cc_1_1Scheduler_aa5f02a41bf2ea3f42cb96b38fcf9448d}{idle}} ()
\begin{DoxyCompactList}\small\item\em 协程无任务可调度时执行idle协程 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classserver__cc_1_1Scheduler_a61da3bc04da6278011ae709646b9a88d}\label{classserver__cc_1_1Scheduler_a61da3bc04da6278011ae709646b9a88d}} 
std\+::vector$<$ int $>$ {\bfseries m\+\_\+thread\+Ids}
\item 
\mbox{\Hypertarget{classserver__cc_1_1Scheduler_a3af7f1149fe297168f0400476f4cce96}\label{classserver__cc_1_1Scheduler_a3af7f1149fe297168f0400476f4cce96}} 
size\+\_\+t \mbox{\hyperlink{classserver__cc_1_1Scheduler_a3af7f1149fe297168f0400476f4cce96}{m\+\_\+thread\+Num}} = 0
\begin{DoxyCompactList}\small\item\em 线程数量 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver__cc_1_1Scheduler_a687f37867f89be01bd4e4af2c9f4be96}\label{classserver__cc_1_1Scheduler_a687f37867f89be01bd4e4af2c9f4be96}} 
std\+::atomic$<$ size\+\_\+t $>$ {\bfseries m\+\_\+active\+Thread\+Count} = \{0\}
\item 
\mbox{\Hypertarget{classserver__cc_1_1Scheduler_a0fde90f552d46d845f4357b08ee15a91}\label{classserver__cc_1_1Scheduler_a0fde90f552d46d845f4357b08ee15a91}} 
std\+::atomic$<$ size\+\_\+t $>$ {\bfseries m\+\_\+idle\+Thread\+Count} = \{0\}
\item 
\mbox{\Hypertarget{classserver__cc_1_1Scheduler_ac6c3b0ae44b6c578b00dea561c687d53}\label{classserver__cc_1_1Scheduler_ac6c3b0ae44b6c578b00dea561c687d53}} 
bool {\bfseries m\+\_\+stopping} = true
\item 
\mbox{\Hypertarget{classserver__cc_1_1Scheduler_af6c6e3f3abd464f644fc3ef48766818b}\label{classserver__cc_1_1Scheduler_af6c6e3f3abd464f644fc3ef48766818b}} 
bool {\bfseries m\+\_\+auto\+Stop} = false
\item 
\mbox{\Hypertarget{classserver__cc_1_1Scheduler_a288b555ba10e643eb75265631502f5f3}\label{classserver__cc_1_1Scheduler_a288b555ba10e643eb75265631502f5f3}} 
int {\bfseries m\+\_\+root\+Thread} = 0
\end{DoxyCompactItemize}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classserver__cc_1_1Scheduler_a2c9d5ecef38ed19956b58f80d483c271}\label{classserver__cc_1_1Scheduler_a2c9d5ecef38ed19956b58f80d483c271}} 
\index{server\_cc::Scheduler@{server\_cc::Scheduler}!Scheduler@{Scheduler}}
\index{Scheduler@{Scheduler}!server\_cc::Scheduler@{server\_cc::Scheduler}}
\doxysubsubsection{\texorpdfstring{Scheduler()}{Scheduler()}}
{\footnotesize\ttfamily server\+\_\+cc\+::\+Scheduler\+::\+Scheduler (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{thread\+\_\+num = {\ttfamily 1},  }\item[{bool}]{use\+\_\+caller = {\ttfamily true},  }\item[{const std\+::string \&}]{name = {\ttfamily \char`\"{}\char`\"{}} }\end{DoxyParamCaption})}

@description\+: 构造函数 
\begin{DoxyParams}{Parameters}
{\em \{size\+\_\+t\}} & thread\+\_\+num 线程数量 \\
\hline
{\em \{bool\}} & use\+\_\+caller 是否使用当前调用线程 \\
\hline
{\em \{string\&\}} & name ~\newline
 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\{$\ast$\} 
\end{DoxyReturn}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classserver__cc_1_1Scheduler_a014a6ca8ba276b6834f2db497fb2f8d9}\label{classserver__cc_1_1Scheduler_a014a6ca8ba276b6834f2db497fb2f8d9}} 
\index{server\_cc::Scheduler@{server\_cc::Scheduler}!start@{start}}
\index{start@{start}!server\_cc::Scheduler@{server\_cc::Scheduler}}
\doxysubsubsection{\texorpdfstring{start()}{start()}}
{\footnotesize\ttfamily void server\+\_\+cc\+::\+Scheduler\+::start (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

@description\+: 启动调度器 \begin{DoxyReturn}{Returns}
\{$\ast$\} 
\end{DoxyReturn}
\mbox{\Hypertarget{classserver__cc_1_1Scheduler_a39eb2b93bbdf05f8ab76faaff88f7a8a}\label{classserver__cc_1_1Scheduler_a39eb2b93bbdf05f8ab76faaff88f7a8a}} 
\index{server\_cc::Scheduler@{server\_cc::Scheduler}!stop@{stop}}
\index{stop@{stop}!server\_cc::Scheduler@{server\_cc::Scheduler}}
\doxysubsubsection{\texorpdfstring{stop()}{stop()}}
{\footnotesize\ttfamily void server\+\_\+cc\+::\+Scheduler\+::stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

@description\+: 停止调度器 \begin{DoxyReturn}{Returns}
\{$\ast$\} 
\end{DoxyReturn}
\mbox{\Hypertarget{classserver__cc_1_1Scheduler_a2c2ba1b975e9826cd012b37f202cda95}\label{classserver__cc_1_1Scheduler_a2c2ba1b975e9826cd012b37f202cda95}} 
\index{server\_cc::Scheduler@{server\_cc::Scheduler}!stopping@{stopping}}
\index{stopping@{stopping}!server\_cc::Scheduler@{server\_cc::Scheduler}}
\doxysubsubsection{\texorpdfstring{stopping()}{stopping()}}
{\footnotesize\ttfamily bool server\+\_\+cc\+::\+Scheduler\+::stopping (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

@description\+: \begin{DoxyReturn}{Returns}
\{$\ast$\} true\+: 任务队列为空，没有任务在执行 
\end{DoxyReturn}


Reimplemented in \mbox{\hyperlink{classserver__cc_1_1IOManager_a88cd4d1e1098fda89a0776df6bbbc63a}{server\+\_\+cc\+::\+I\+O\+Manager}}.

\mbox{\Hypertarget{classserver__cc_1_1Scheduler_ac44285e8a12d0e5d6b45cd7b3b92de98}\label{classserver__cc_1_1Scheduler_ac44285e8a12d0e5d6b45cd7b3b92de98}} 
\index{server\_cc::Scheduler@{server\_cc::Scheduler}!tickle@{tickle}}
\index{tickle@{tickle}!server\_cc::Scheduler@{server\_cc::Scheduler}}
\doxysubsubsection{\texorpdfstring{tickle()}{tickle()}}
{\footnotesize\ttfamily void server\+\_\+cc\+::\+Scheduler\+::tickle (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

@description\+: 唤醒idle协程，如果有io事件则处理，否则将控制权返回到主协程 \begin{DoxyReturn}{Returns}
\{$\ast$\} 
\end{DoxyReturn}


Reimplemented in \mbox{\hyperlink{classserver__cc_1_1IOManager_a6615786ba9f80f06567ec77264269d3a}{server\+\_\+cc\+::\+I\+O\+Manager}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
scheduler.\+h\item 
scheduler.\+cpp\end{DoxyCompactItemize}
