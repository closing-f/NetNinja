\hypertarget{classserver__cc_1_1Address}{}\doxysection{server\+\_\+cc\+::Address Class Reference}
\label{classserver__cc_1_1Address}\index{server\_cc::Address@{server\_cc::Address}}


网络地址的基类,抽象类  




{\ttfamily \#include $<$address.\+h$>$}



Inheritance diagram for server\+\_\+cc\+::Address\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classserver__cc_1_1Address__inherit__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classserver__cc_1_1Address_a081445b54c539b06bacc302f28668075}\label{classserver__cc_1_1Address_a081445b54c539b06bacc302f28668075}} 
typedef std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classserver__cc_1_1Address}{Address}} $>$ {\bfseries ptr}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classserver__cc_1_1Address_a13255feae568b1de68986612756078ea}\label{classserver__cc_1_1Address_a13255feae568b1de68986612756078ea}} 
virtual \mbox{\hyperlink{classserver__cc_1_1Address_a13255feae568b1de68986612756078ea}{$\sim$\+Address}} ()
\begin{DoxyCompactList}\small\item\em 虚析构函数 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver__cc_1_1Address_a1c11524cc67e81c6f2bce7543d68102f}\label{classserver__cc_1_1Address_a1c11524cc67e81c6f2bce7543d68102f}} 
int \mbox{\hyperlink{classserver__cc_1_1Address_a1c11524cc67e81c6f2bce7543d68102f}{get\+Family}} () const
\begin{DoxyCompactList}\small\item\em 返回协议簇 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver__cc_1_1Address_a14c049f3fcc7a2e4f876233c74ce40ff}\label{classserver__cc_1_1Address_a14c049f3fcc7a2e4f876233c74ce40ff}} 
virtual const sockaddr $\ast$ \mbox{\hyperlink{classserver__cc_1_1Address_a14c049f3fcc7a2e4f876233c74ce40ff}{get\+Addr}} () const =0
\begin{DoxyCompactList}\small\item\em 返回sockaddr指针,只读 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver__cc_1_1Address_a3ea9781e0771cd95d901cdbe544f5840}\label{classserver__cc_1_1Address_a3ea9781e0771cd95d901cdbe544f5840}} 
virtual sockaddr $\ast$ \mbox{\hyperlink{classserver__cc_1_1Address_a3ea9781e0771cd95d901cdbe544f5840}{get\+Addr}} ()=0
\begin{DoxyCompactList}\small\item\em 返回sockaddr指针,读写 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver__cc_1_1Address_a44752cd3def207303af88b2c6392c149}\label{classserver__cc_1_1Address_a44752cd3def207303af88b2c6392c149}} 
virtual socklen\+\_\+t \mbox{\hyperlink{classserver__cc_1_1Address_a44752cd3def207303af88b2c6392c149}{get\+Addr\+Len}} () const =0
\begin{DoxyCompactList}\small\item\em 返回sockaddr的长度 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver__cc_1_1Address_a317a94add35c2b7af31000d46b5768e7}\label{classserver__cc_1_1Address_a317a94add35c2b7af31000d46b5768e7}} 
virtual std\+::ostream \& \mbox{\hyperlink{classserver__cc_1_1Address_a317a94add35c2b7af31000d46b5768e7}{insert}} (std\+::ostream \&os) const =0
\begin{DoxyCompactList}\small\item\em 可读性输出地址 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver__cc_1_1Address_a2288c39ad101a8c895a3a27ff73c1a22}\label{classserver__cc_1_1Address_a2288c39ad101a8c895a3a27ff73c1a22}} 
std\+::string \mbox{\hyperlink{classserver__cc_1_1Address_a2288c39ad101a8c895a3a27ff73c1a22}{to\+String}} () const
\begin{DoxyCompactList}\small\item\em 返回可读性字符串 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver__cc_1_1Address_a69f59b0219b53216092b3d8f26f3eb78}\label{classserver__cc_1_1Address_a69f59b0219b53216092b3d8f26f3eb78}} 
bool \mbox{\hyperlink{classserver__cc_1_1Address_a69f59b0219b53216092b3d8f26f3eb78}{operator$<$}} (const \mbox{\hyperlink{classserver__cc_1_1Address}{Address}} \&rhs) const
\begin{DoxyCompactList}\small\item\em 小于号比较函数 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver__cc_1_1Address_ab47e6bcb2d56d42ed3749984512319f6}\label{classserver__cc_1_1Address_ab47e6bcb2d56d42ed3749984512319f6}} 
bool \mbox{\hyperlink{classserver__cc_1_1Address_ab47e6bcb2d56d42ed3749984512319f6}{operator==}} (const \mbox{\hyperlink{classserver__cc_1_1Address}{Address}} \&rhs) const
\begin{DoxyCompactList}\small\item\em 等于函数 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classserver__cc_1_1Address_a0e94d83e4a3ed58d4b7f14d11f9ceced}\label{classserver__cc_1_1Address_a0e94d83e4a3ed58d4b7f14d11f9ceced}} 
bool \mbox{\hyperlink{classserver__cc_1_1Address_a0e94d83e4a3ed58d4b7f14d11f9ceced}{operator!=}} (const \mbox{\hyperlink{classserver__cc_1_1Address}{Address}} \&rhs) const
\begin{DoxyCompactList}\small\item\em 不等于函数 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static Address\+::ptr \mbox{\hyperlink{classserver__cc_1_1Address_a24ade6e258971c65e55e7baab08f6a7a}{Create}} (const sockaddr $\ast$addr, socklen\+\_\+t addrlen)
\item 
static bool \mbox{\hyperlink{classserver__cc_1_1Address_a2dab0dff5b7af6399f8b0bbef7f0fbff}{Lookup}} (std\+::vector$<$ Address\+::ptr $>$ \&result, const std\+::string \&host, int family=A\+F\+\_\+\+I\+N\+ET, int type=0, int protocol=0)
\item 
static Address\+::ptr \mbox{\hyperlink{classserver__cc_1_1Address_aa05142cb08c9ef7f0fcb2421713f6478}{Lookup\+Any}} (const std\+::string \&host, int family=A\+F\+\_\+\+I\+N\+ET, int type=0, int protocol=0)
\item 
static std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classserver__cc_1_1IPAddress}{I\+P\+Address}} $>$ \mbox{\hyperlink{classserver__cc_1_1Address_a3d199c62b62901c913f9e620162daee7}{Lookup\+Any\+I\+P\+Address}} (const std\+::string \&host, int family=A\+F\+\_\+\+I\+N\+ET, int type=0, int protocol=0)
\begin{DoxyCompactList}\small\item\em 通过host地址返回对应条件的任意\+I\+P\+Address \end{DoxyCompactList}\item 
static bool \mbox{\hyperlink{classserver__cc_1_1Address_ad777a9d2fd1cf9230c518ce2a2518519}{Get\+Interface\+Addresses}} (std\+::multimap$<$ std\+::string, std\+::pair$<$ Address\+::ptr, uint32\+\_\+t $>$ $>$ \&result, int family=A\+F\+\_\+\+I\+N\+ET)
\begin{DoxyCompactList}\small\item\em 返回本机所有网卡的$<$网卡名, 地址, 子网掩码位数$>$ \end{DoxyCompactList}\item 
static bool \mbox{\hyperlink{classserver__cc_1_1Address_a27f50bcf7013952e1c09881707e75d01}{Get\+Interface\+Addresses}} (std\+::vector$<$ std\+::pair$<$ Address\+::ptr, uint32\+\_\+t $>$ $>$ \&result, const std\+::string \&iface, int family=A\+F\+\_\+\+I\+N\+ET)
\begin{DoxyCompactList}\small\item\em 获取指定网卡的地址和子网掩码位数 \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
网络地址的基类,抽象类 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classserver__cc_1_1Address_a24ade6e258971c65e55e7baab08f6a7a}\label{classserver__cc_1_1Address_a24ade6e258971c65e55e7baab08f6a7a}} 
\index{server\_cc::Address@{server\_cc::Address}!Create@{Create}}
\index{Create@{Create}!server\_cc::Address@{server\_cc::Address}}
\doxysubsubsection{\texorpdfstring{Create()}{Create()}}
{\footnotesize\ttfamily Address\+::ptr server\+\_\+cc\+::\+Address\+::\+Create (\begin{DoxyParamCaption}\item[{const sockaddr $\ast$}]{addr,  }\item[{socklen\+\_\+t}]{addrlen }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

struct sockaddr\+\_\+in\{ sa\+\_\+family\+\_\+t sin\+\_\+family; //地址族 uint16\+\_\+t sin\+\_\+port; //端口号 struct in\+\_\+addr sin\+\_\+addr; //\+I\+P地址 \} struct in\+\_\+addr\{ uint32\+\_\+t s\+\_\+addr; //32位\+I\+P地址 \}

struct sockaddr\+\_\+in6\{ sa\+\_\+family\+\_\+t sin6\+\_\+family; //地址族 uint16\+\_\+t sin6\+\_\+port; //端口号 uint32\+\_\+t sin6\+\_\+flowinfo; //流信息 struct in6\+\_\+addr sin6\+\_\+addr; //\+I\+Pv6地址 uint32\+\_\+t sin6\+\_\+scope\+\_\+id; //范围\+ID \} struct in6\+\_\+addr\{ uint8\+\_\+t s6\+\_\+addr\mbox{[}16\mbox{]}; //16位\+I\+P地址 \}

struct sockaddr\{ sa\+\_\+family\+\_\+t sa\+\_\+family; //地址族 char sa\+\_\+data\mbox{[}14\mbox{]}; //14字节协议地址

\} @description\+: 通过sockaddr指针创建\+Address 
\begin{DoxyParams}{Parameters}
{\em \{sockaddr$\ast$\}} & addr sockaddr指针 \\
\hline
{\em \{socklen\+\_\+t\}} & addrlen sockaddr的长度 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\{$\ast$\} 返回和sockaddr相匹配的\+Address,失败返回nullptr 
\end{DoxyReturn}
\mbox{\Hypertarget{classserver__cc_1_1Address_ad777a9d2fd1cf9230c518ce2a2518519}\label{classserver__cc_1_1Address_ad777a9d2fd1cf9230c518ce2a2518519}} 
\index{server\_cc::Address@{server\_cc::Address}!GetInterfaceAddresses@{GetInterfaceAddresses}}
\index{GetInterfaceAddresses@{GetInterfaceAddresses}!server\_cc::Address@{server\_cc::Address}}
\doxysubsubsection{\texorpdfstring{GetInterfaceAddresses()}{GetInterfaceAddresses()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool server\+\_\+cc\+::\+Address\+::\+Get\+Interface\+Addresses (\begin{DoxyParamCaption}\item[{std\+::multimap$<$ std\+::string, std\+::pair$<$ Address\+::ptr, uint32\+\_\+t $>$ $>$ \&}]{result,  }\item[{int}]{family = {\ttfamily AF\+\_\+INET} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



返回本机所有网卡的$<$网卡名, 地址, 子网掩码位数$>$ 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em result} & 保存本机所有地址 \\
\hline
\mbox{\texttt{ in}}  & {\em family} & 协议族(\+A\+F\+\_\+\+I\+N\+T, A\+F\+\_\+\+I\+N\+T6, A\+F\+\_\+\+U\+N\+I\+X) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
是否获取成功 
\end{DoxyReturn}
\mbox{\Hypertarget{classserver__cc_1_1Address_a27f50bcf7013952e1c09881707e75d01}\label{classserver__cc_1_1Address_a27f50bcf7013952e1c09881707e75d01}} 
\index{server\_cc::Address@{server\_cc::Address}!GetInterfaceAddresses@{GetInterfaceAddresses}}
\index{GetInterfaceAddresses@{GetInterfaceAddresses}!server\_cc::Address@{server\_cc::Address}}
\doxysubsubsection{\texorpdfstring{GetInterfaceAddresses()}{GetInterfaceAddresses()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool server\+\_\+cc\+::\+Address\+::\+Get\+Interface\+Addresses (\begin{DoxyParamCaption}\item[{std\+::vector$<$ std\+::pair$<$ Address\+::ptr, uint32\+\_\+t $>$ $>$ \&}]{result,  }\item[{const std\+::string \&}]{iface,  }\item[{int}]{family = {\ttfamily AF\+\_\+INET} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



获取指定网卡的地址和子网掩码位数 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em result} & 保存指定网卡所有地址 \\
\hline
\mbox{\texttt{ in}}  & {\em iface} & 网卡名称 \\
\hline
\mbox{\texttt{ in}}  & {\em family} & 协议族(\+A\+F\+\_\+\+I\+N\+T, A\+F\+\_\+\+I\+N\+T6, A\+F\+\_\+\+U\+N\+I\+X) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
是否获取成功 
\end{DoxyReturn}
\mbox{\Hypertarget{classserver__cc_1_1Address_a2dab0dff5b7af6399f8b0bbef7f0fbff}\label{classserver__cc_1_1Address_a2dab0dff5b7af6399f8b0bbef7f0fbff}} 
\index{server\_cc::Address@{server\_cc::Address}!Lookup@{Lookup}}
\index{Lookup@{Lookup}!server\_cc::Address@{server\_cc::Address}}
\doxysubsubsection{\texorpdfstring{Lookup()}{Lookup()}}
{\footnotesize\ttfamily bool server\+\_\+cc\+::\+Address\+::\+Lookup (\begin{DoxyParamCaption}\item[{std\+::vector$<$ Address\+::ptr $>$ \&}]{result,  }\item[{const std\+::string \&}]{host,  }\item[{int}]{family = {\ttfamily AF\+\_\+INET},  }\item[{int}]{type = {\ttfamily 0},  }\item[{int}]{protocol = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

@description\+: 通过host地址返回对应条件的所有\+Address 
\begin{DoxyParams}{Parameters}
{\em \{std\+::vector$<$\+Address\+::ptr$>$\&\}} & result 保存满足条件的\+Address \\
\hline
{\em \{const} & std\+::string\&\} host 域名,服务器名等.\+举例\+: www.\+server\+\_\+cc.\+top\mbox{[}\+:80\mbox{]} (方括号为可选内容) \\
\hline
{\em \{int\}} & family 协议族(\+A\+F\+\_\+\+I\+N\+T, A\+F\+\_\+\+I\+N\+T6, A\+F\+\_\+\+U\+N\+I\+X) \\
\hline
{\em \{int\}} & type socketl类型\+S\+O\+C\+K\+\_\+\+S\+T\+R\+E\+A\+M、\+S\+O\+C\+K\+\_\+\+D\+G\+R\+AM 等 \\
\hline
{\em \{int\}} & protocol 协议,I\+P\+P\+R\+O\+T\+O\+\_\+\+T\+C\+P、\+I\+P\+P\+R\+O\+T\+O\+\_\+\+U\+DP 等 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\{$\ast$\} 
\end{DoxyReturn}
\mbox{\Hypertarget{classserver__cc_1_1Address_aa05142cb08c9ef7f0fcb2421713f6478}\label{classserver__cc_1_1Address_aa05142cb08c9ef7f0fcb2421713f6478}} 
\index{server\_cc::Address@{server\_cc::Address}!LookupAny@{LookupAny}}
\index{LookupAny@{LookupAny}!server\_cc::Address@{server\_cc::Address}}
\doxysubsubsection{\texorpdfstring{LookupAny()}{LookupAny()}}
{\footnotesize\ttfamily Address\+::ptr server\+\_\+cc\+::\+Address\+::\+Lookup\+Any (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{host,  }\item[{int}]{family = {\ttfamily AF\+\_\+INET},  }\item[{int}]{type = {\ttfamily 0},  }\item[{int}]{protocol = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

@description\+: 通过host地址返回对应条件的任意\+Address 
\begin{DoxyParams}{Parameters}
{\em \{const} & std\+::string\&\} host 域名,服务器名等.\+举例\+: www.\+server\+\_\+cc.\+top\mbox{[}\+:80\mbox{]} (方括号为可选内容) \\
\hline
{\em \{int\}} & family 协议族(\+A\+F\+\_\+\+I\+N\+T, A\+F\+\_\+\+I\+N\+T6, A\+F\+\_\+\+U\+N\+I\+X) \\
\hline
{\em \{int\}} & type socketl类型\+S\+O\+C\+K\+\_\+\+S\+T\+R\+E\+A\+M、\+S\+O\+C\+K\+\_\+\+D\+G\+R\+AM 等 \\
\hline
{\em \{int\}} & protocol 协议,I\+P\+P\+R\+O\+T\+O\+\_\+\+T\+C\+P、\+I\+P\+P\+R\+O\+T\+O\+\_\+\+U\+DP 等 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\{$\ast$\} 
\end{DoxyReturn}
\mbox{\Hypertarget{classserver__cc_1_1Address_a3d199c62b62901c913f9e620162daee7}\label{classserver__cc_1_1Address_a3d199c62b62901c913f9e620162daee7}} 
\index{server\_cc::Address@{server\_cc::Address}!LookupAnyIPAddress@{LookupAnyIPAddress}}
\index{LookupAnyIPAddress@{LookupAnyIPAddress}!server\_cc::Address@{server\_cc::Address}}
\doxysubsubsection{\texorpdfstring{LookupAnyIPAddress()}{LookupAnyIPAddress()}}
{\footnotesize\ttfamily I\+P\+Address\+::ptr server\+\_\+cc\+::\+Address\+::\+Lookup\+Any\+I\+P\+Address (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{host,  }\item[{int}]{family = {\ttfamily AF\+\_\+INET},  }\item[{int}]{type = {\ttfamily 0},  }\item[{int}]{protocol = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



通过host地址返回对应条件的任意\+I\+P\+Address 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em host} & 域名,服务器名等.\+举例\+: www.\+server\+\_\+cc.\+top\mbox{[}\+:80\mbox{]} (方括号为可选内容) \\
\hline
\mbox{\texttt{ in}}  & {\em family} & 协议族(\+A\+F\+\_\+\+I\+N\+T, A\+F\+\_\+\+I\+N\+T6, A\+F\+\_\+\+U\+N\+I\+X) \\
\hline
\mbox{\texttt{ in}}  & {\em type} & socketl类型\+S\+O\+C\+K\+\_\+\+S\+T\+R\+E\+A\+M、\+S\+O\+C\+K\+\_\+\+D\+G\+R\+AM 等 \\
\hline
\mbox{\texttt{ in}}  & {\em protocol} & 协议,I\+P\+P\+R\+O\+T\+O\+\_\+\+T\+C\+P、\+I\+P\+P\+R\+O\+T\+O\+\_\+\+U\+DP 等 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
返回满足条件的任意\+I\+P\+Address,失败返回nullptr 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{address_8h}{address.\+h}}\item 
address.\+cpp\end{DoxyCompactItemize}
